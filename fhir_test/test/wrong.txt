***************************************************./test/r5_examples/testscript-example-update.json
{
  "resourceType": "TestScript",
  "id": "testscript-example-update",
  "text": {
    "status": "generated",
    "div": "\u003cdiv xmlns\u003d\"http://www.w3.org/1999/xhtml\"\u003e\u003cp\u003e\u003cb\u003eGenerated Narrative: TestScript\u003c/b\u003e\u003ca name\u003d\"testscript-example-update\"\u003e \u003c/a\u003e\u003c/p\u003e\u003cdiv style\u003d\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"\u003e\u003cp style\u003d\"margin-bottom: 0px\"\u003eResource TestScript \u0026quot;testscript-example-update\u0026quot; \u003c/p\u003e\u003c/div\u003e\u003cp\u003e\u003cb\u003eurl\u003c/b\u003e: \u003ccode\u003ehttp://hl7.org/fhir/TestScript/testscript-example-update\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eidentifier\u003c/b\u003e: id: urn:oid:2.16.840.1.113883.4.642.12.5\u003c/p\u003e\u003cp\u003e\u003cb\u003eversion\u003c/b\u003e: 1.0\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: TestScript Example Update\u003c/p\u003e\u003cp\u003e\u003cb\u003estatus\u003c/b\u003e: draft\u003c/p\u003e\u003cp\u003e\u003cb\u003eexperimental\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003edate\u003c/b\u003e: 2017-01-18\u003c/p\u003e\u003cp\u003e\u003cb\u003epublisher\u003c/b\u003e: HL7\u003c/p\u003e\u003cp\u003e\u003cb\u003econtact\u003c/b\u003e: Support: \u003ca href\u003d\"mailto:support@HL7.org\"\u003esupport@HL7.org\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.\u003c/p\u003e\u003cp\u003e\u003cb\u003ejurisdiction\u003c/b\u003e: United States of America (the) \u003cspan style\u003d\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"\u003e (\u003ca href\u003d\"http://terminology.hl7.org/4.0.0/CodeSystem-ISO3166Part1.html\"\u003eISO 3166-1 Codes for the representation of names of countries and their subdivisions — Part 1: Country code\u003c/a\u003e#US)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003epurpose\u003c/b\u003e: Patient (Conditional) Create, Update, Delete Operations\u003c/p\u003e\u003cp\u003e\u003cb\u003ecopyright\u003c/b\u003e: © HL7.org 2011+\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003emetadata\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eLinks\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/patient.html\"\u003ehttp://hl7.org/fhir/patient.html\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eDemographics and other administrative information about an individual or animal receiving care or other health-related services.\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003ch3\u003eCapabilities\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequired\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValidated\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLink\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eCapabilities\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003ePatient Update and Delete Operations\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/http.html#update\"\u003ehttp://hl7.org/fhir/http.html#update\u003c/a\u003e, \u003ca href\u003d\"http://hl7.org/fhir/http.html#delete\"\u003ehttp://hl7.org/fhir/http.html#delete\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/CapabilityStatement/example\"\u003ehttp://hl7.org/fhir/CapabilityStatement/example\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003efixture\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eautocreate\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eautodelete\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"patient-example.html\"\u003ePatient/example: Peter Chalmers\u003c/a\u003e \u0026quot;Peter CHALMERS\u0026quot;\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003efixture\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eautocreate\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eautodelete\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"patient-example-a.html\"\u003ePatient/pat1: Donald Duck\u003c/a\u003e \u0026quot;Donald DUCK\u0026quot;\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003e\u003cb\u003eprofile\u003c/b\u003e: \u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/p\u003e\u003ch3\u003eVariables\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eName\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003ePath\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003ecreateResourceId\u003c/td\u003e\u003ctd\u003ePatient/id\u003c/td\u003e\u003ctd\u003efixture-patient-create\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003esetup\u003c/b\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLabel\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003edelete (Details: http://hl7.org/fhir/restful-interaction code delete \u003d \u0027delete\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSetupDeletePatient\u003c/td\u003e\u003ctd\u003eExecute a delete operation to insure the patient does not exist on the server.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e/${createResourceId}\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponseCode\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK) or 204(No Content).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003ein\u003c/td\u003e\u003ctd\u003e200,204\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLabel\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eupdate (Details: http://hl7.org/fhir/restful-interaction code update \u003d \u0027update\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSetupCreatePatient\u003c/td\u003e\u003ctd\u003eCreate patient resource on test server using the contents of fixture-patient-create\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e/${createResourceId}\u003c/td\u003e\u003ctd\u003efixture-patient-create\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponseCode\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 201(Created).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003e201\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003etest\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: Update Patient\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Update a Patient and validate response.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLabel\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eupdate (Details: http://hl7.org/fhir/restful-interaction code update \u003d \u0027update\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSetupUpdatePatient\u003c/td\u003e\u003ctd\u003eUpdate patient resource on test server using the contents of fixture-patient-update\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e/${createResourceId}\u003c/td\u003e\u003ctd\u003efixture-patient-update\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eokay\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned format is XML.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eHeaderField\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\u003c/td\u003e\u003ctd\u003eLast-Modified\u003c/td\u003e\u003ctd\u003enotEmpty\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003c/div\u003e"
  },
  "url": "http://hl7.org/fhir/TestScript/testscript-example-update",
  "identifier": [
    {
      "system": "urn:ietf:rfc:3986",
      "value": "urn:oid:2.16.840.1.113883.4.642.12.5"
    }
  ],
  "version": "1.0",
  "name": "TestScript Example Update",
  "status": "draft",
  "experimental": true,
  "date": "2017-01-18",
  "publisher": "HL7",
  "contact": [
    {
      "name": "Support",
      "telecom": [
        {
          "system": "email",
          "value": "support@HL7.org",
          "use": "work"
        }
      ]
    }
  ],
  "description": "TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US",
          "display": "United States of America (the)"
        }
      ]
    }
  ],
  "purpose": "Patient (Conditional) Create, Update, Delete Operations",
  "copyright": "© HL7.org 2011+",
  "metadata": {
    "link": [
      {
        "url": "http://hl7.org/fhir/patient.html",
        "description": "Demographics and other administrative information about an individual or animal receiving care or other health-related services."
      }
    ],
    "capability": [
      {
        "required": true,
        "validated": false,
        "description": "Patient Update and Delete Operations",
        "link": [
          "http://hl7.org/fhir/http.html#update",
          "http://hl7.org/fhir/http.html#delete"
        ],
        "capabilities": "http://hl7.org/fhir/CapabilityStatement/example"
      }
    ]
  },
  "fixture": [
    {
      "id": "fixture-patient-create",
      "autocreate": false,
      "autodelete": false,
      "resource": {
        "reference": "Patient/example",
        "display": "Peter Chalmers"
      }
    },
    {
      "id": "fixture-patient-update",
      "autocreate": false,
      "autodelete": false,
      "resource": {
        "reference": "Patient/pat1",
        "display": "Donald Duck"
      }
    }
  ],
  "profile": [
    "http://hl7.org/fhir/StructureDefinition/Patient"
  ],
  "_profile": [
    {
      "id": "patient-profile"
    }
  ],
  "variable": [
    {
      "name": "createResourceId",
      "path": "Patient/id",
      "sourceId": "fixture-patient-create"
    }
  ],
  "setup": {
    "action": [
      {
        "operation": {
          "type": {
            "system": "http://hl7.org/fhir/restful-interaction",
            "code": "delete"
          },
          "resource": "Patient",
          "label": "SetupDeletePatient",
          "description": "Execute a delete operation to insure the patient does not exist on the server.",
          "accept": "xml",
          "encodeRequestUrl": true,
          "params": "/${createResourceId}"
        }
      },
      {
        "assert": {
          "description": "Confirm that the returned HTTP status is 200(OK) or 204(No Content).",
          "direction": "response",
          "operator": "in",
          "responseCode": "200,204",
          "stopTestOnFail": false,
          "warningOnly": false
        }
      },
      {
        "operation": {
          "type": {
            "system": "http://hl7.org/fhir/restful-interaction",
            "code": "update"
          },
          "resource": "Patient",
          "label": "SetupCreatePatient",
          "description": "Create patient resource on test server using the contents of fixture-patient-create",
          "accept": "xml",
          "contentType": "xml",
          "encodeRequestUrl": true,
          "params": "/${createResourceId}",
          "sourceId": "fixture-patient-create"
        }
      },
      {
        "assert": {
          "description": "Confirm that the returned HTTP status is 201(Created).",
          "direction": "response",
          "responseCode": "201",
          "stopTestOnFail": false,
          "warningOnly": false
        }
      }
    ]
  },
  "test": [
    {
      "id": "01-UpdatePatient",
      "name": "Update Patient",
      "description": "Update a Patient and validate response.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://hl7.org/fhir/restful-interaction",
              "code": "update"
            },
            "resource": "Patient",
            "label": "SetupUpdatePatient",
            "description": "Update patient resource on test server using the contents of fixture-patient-update",
            "accept": "xml",
            "contentType": "xml",
            "encodeRequestUrl": true,
            "params": "/${createResourceId}",
            "sourceId": "fixture-patient-update"
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 200(OK).",
            "response": "okay",
            "stopTestOnFail": false,
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned format is XML.",
            "contentType": "xml",
            "stopTestOnFail": false,
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.",
            "headerField": "Last-Modified",
            "operator": "notEmpty",
            "stopTestOnFail": false,
            "warningOnly": true
          }
        }
      ]
    }
  ]
}

{"resourceType":"TestScript","id":"testscript-example-update","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: TestScript</b><a name=\"testscript-example-update\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource TestScript &quot;testscript-example-update&quot; </p></div><p><b>url</b>: <code>http://hl7.org/fhir/TestScript/testscript-example-update</code></p><p><b>identifier</b>: id: urn:oid:2.16.840.1.113883.4.642.12.5</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example Update</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 2017-01-18</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: Support: <a href=\"mailto:support@HL7.org\">support@HL7.org</a></p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.</p><p><b>jurisdiction</b>: United States of America (the) <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/4.0.0/CodeSystem-ISO3166Part1.html\">ISO 3166-1 Codes for the representation of names of countries and their subdivisions — Part 1: Country code</a>#US)</span></p><p><b>purpose</b>: Patient (Conditional) Create, Update, Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table class=\"grid\"><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a href=\"http://hl7.org/fhir/patient.html\">http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table class=\"grid\"><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update and Delete Operations</td><td><a href=\"http://hl7.org/fhir/http.html#update\">http://hl7.org/fhir/http.html#update</a>, <a href=\"http://hl7.org/fhir/http.html#delete\">http://hl7.org/fhir/http.html#delete</a></td><td><a href=\"http://hl7.org/fhir/CapabilityStatement/example\">http://hl7.org/fhir/CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a href=\"patient-example.html\">Patient/example: Peter Chalmers</a> &quot;Peter CHALMERS&quot;</p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a href=\"patient-example-a.html\">Patient/pat1: Donald Duck</a> &quot;Donald DUCK&quot;</p></blockquote><p><b>profile</b>: <a href=\"patient.html\">Patient</a></p><h3>Variables</h3><table class=\"grid\"><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>delete (Details: http://hl7.org/fhir/restful-interaction code delete = 'delete', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>xml</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>update (Details: http://hl7.org/fhir/restful-interaction code update = 'update', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>xml</td><td>xml</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Update Patient</p><p><b>description</b>: Update a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>update (Details: http://hl7.org/fhir/restful-interaction code update = 'update', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>SetupUpdatePatient</td><td>Update patient resource on test server using the contents of fixture-patient-update</td><td>xml</td><td>xml</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-update</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>ContentType</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned format is XML.</td><td>xml</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>HeaderField</b></td><td><b>Operator</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.</td><td>Last-Modified</td><td>notEmpty</td><td>false</td><td>true</td></tr></table></blockquote></blockquote></div>"},"url":"http://hl7.org/fhir/TestScript/testscript-example-update","identifier":[{"system":"urn:ietf:rfc:3986","value":"urn:oid:2.16.840.1.113883.4.642.12.5"}],"version":"1.0","name":"TestScript Example Update","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.","jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient (Conditional) Create, Update, Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update and Delete Operations","link":["http://hl7.org/fhir/http.html#update","http://hl7.org/fhir/http.html#delete"],"capabilities":"http://hl7.org/fhir/CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}},{"id":"fixture-patient-update","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/pat1","display":"Donald Duck"}}],"profile":["http://hl7.org/fhir/StructureDefinition/Patient"],"variable":[{"name":"createResourceId","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"xml","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","stopTestOnFail":false,"warningOnly":false}},{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"xml","contentType":"xml","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","stopTestOnFail":false,"warningOnly":false}}]},"test":[{"id":"01-UpdatePatient","name":"Update Patient","description":"Update a Patient and validate response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"update"},"resource":"Patient","label":"SetupUpdatePatient","description":"Update patient resource on test server using the contents of fixture-patient-update","accept":"xml","contentType":"xml","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-update"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned format is XML.","contentType":"xml","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","headerField":"Last-Modified","operator":"notEmpty","stopTestOnFail":false,"warningOnly":true}}]}]}
******************************************************************************************************./test/r5_examples/TestScript3.json
{"resourceType":"TestScript","id":"testscript-example-search","text":{"status":"generated","div":"\u003cdiv xmlns\u003d\"http://www.w3.org/1999/xhtml\"\u003e\u003cp\u003e\u003cb\u003eGenerated Narrative: TestScript\u003c/b\u003e\u003ca name\u003d\"testscript-example-search\"\u003e \u003c/a\u003e\u003c/p\u003e\u003cdiv style\u003d\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"\u003e\u003cp style\u003d\"margin-bottom: 0px\"\u003eResource TestScript \u0026quot;testscript-example-search\u0026quot; \u003c/p\u003e\u003c/div\u003e\u003cp\u003e\u003cb\u003eurl\u003c/b\u003e: \u003ccode\u003ehttp://hl7.org/fhir/TestScript/testscript-example-search\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eidentifier\u003c/b\u003e: id: urn:oid:2.16.840.1.113883.4.642.12.3\u003c/p\u003e\u003cp\u003e\u003cb\u003eversion\u003c/b\u003e: 1.0\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: TestScript Example Search\u003c/p\u003e\u003cp\u003e\u003cb\u003estatus\u003c/b\u003e: draft\u003c/p\u003e\u003cp\u003e\u003cb\u003eexperimental\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003edate\u003c/b\u003e: 2017-01-18\u003c/p\u003e\u003cp\u003e\u003cb\u003epublisher\u003c/b\u003e: HL7\u003c/p\u003e\u003cp\u003e\u003cb\u003econtact\u003c/b\u003e: Support: \u003ca href\u003d\"mailto:support@HL7.org\"\u003esupport@HL7.org\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: TestScript example resource with simple Patient search test. The read tests will utilize user defined dynamic variables that will hold the Patient search parameter values.\u003c/p\u003e\u003cp\u003e\u003cb\u003ejurisdiction\u003c/b\u003e: United States of America (the) \u003cspan style\u003d\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"\u003e (\u003ca href\u003d\"http://terminology.hl7.org/4.0.0/CodeSystem-ISO3166Part1.html\"\u003eISO 3166-1 Codes for the representation of names of countries and their subdivisions — Part 1: Country code\u003c/a\u003e#US)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003epurpose\u003c/b\u003e: Patient Search Operation\u003c/p\u003e\u003cp\u003e\u003cb\u003ecopyright\u003c/b\u003e: © HL7.org 2011+\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003emetadata\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eLinks\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/patient.html\"\u003ehttp://hl7.org/fhir/patient.html\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eDemographics and other administrative information about an individual or animal receiving care or other health-related services.\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003ch3\u003eCapabilities\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequired\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValidated\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLink\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eCapabilities\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003ePatient Search Operation\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/http.html#search\"\u003ehttp://hl7.org/fhir/http.html#search\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/CapabilityStatement/example\"\u003ehttp://hl7.org/fhir/CapabilityStatement/example\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003ch3\u003eFixtures\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAutocreate\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAutodelete\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient-example.html\"\u003ePatient/example: Peter Chalmers\u003c/a\u003e \u0026quot;Peter CHALMERS\u0026quot;\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003cp\u003e\u003cb\u003eprofile\u003c/b\u003e: \u003ca href\u003d\"bundle.html\"\u003eBundle\u003c/a\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003evariable\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: PatientCreateLocation\u003c/p\u003e\u003cp\u003e\u003cb\u003eheaderField\u003c/b\u003e: Location\u003c/p\u003e\u003cp\u003e\u003cb\u003esourceId\u003c/b\u003e: PatientCreateResponse\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003evariable\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: PatientSearchFamilyName\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Enter patient search criteria for a known family name on the target system\u003c/p\u003e\u003cp\u003e\u003cb\u003ehint\u003c/b\u003e: [Family name]\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003evariable\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: PatientSearchGivenName\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Enter patient search criteria for a known given name on the target system\u003c/p\u003e\u003cp\u003e\u003cb\u003ehint\u003c/b\u003e: [Given name]\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003evariable\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: PatientSearchBundleTotal\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Evaluate the returned Patient searchset Bundle.total value\u003c/p\u003e\u003cp\u003e\u003cb\u003eexpression\u003c/b\u003e: Bundle.total.toInteger()\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003esetup\u003c/b\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003esearch (Details: http://hl7.org/fhir/restful-interaction code search \u003d \u0027search\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eTest simple search to verify server support.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e?family\u003dDONTEXPECTAMATCH\u0026amp;given\u003dDONTEXPECTAMATCH\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequestURL\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the request url contains the family search parameter.\u003c/td\u003e\u003ctd\u003erequest\u003c/td\u003e\u003ctd\u003econtains\u003c/td\u003e\u003ctd\u003efamily\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponseCode\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003e200\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned resource type is Bundle.\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"bundle.html\"\u003eBundle\u003c/a\u003e\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eNavigationLinks\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned Bundle correctly defines the navigation links.\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003etest\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: Patient Create Search\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Create a Patient resource and capture the returned HTTP Header Location. Then search for (read) that Patient using the Location URL value and validate the response.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponseId\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003ecreate (Details: http://hl7.org/fhir/restful-interaction code create \u003d \u0027create\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eCreate a Patient resource and capture the returned HTTP Header Location.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003ePatientCreateResponse\u003c/td\u003e\u003ctd\u003efixture-patient-create\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 201(Created).\u003c/td\u003e\u003ctd\u003ecreated\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eHeaderField\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP Header Location is present.\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003eLocation\u003c/td\u003e\u003ctd\u003enotEmpty\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eUrl\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eread (Details: http://hl7.org/fhir/restful-interaction code read \u003d \u0027read\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003eRead the created Patient using the captured Location URL value.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e${PatientCreateLocation}\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eokay\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned resource type is Patient.\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003etest\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: Patient Search Dynamic\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Search for Patient resources using the user defined dynamic variables ${PatientSearchFamilyName} and ${PatientSearchGivenName} and validate response.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003esearch (Details: http://hl7.org/fhir/restful-interaction code search \u003d \u0027search\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSearch for Patient resources on the destination test system.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e?family\u003d${PatientSearchFamilyName}\u0026amp;given\u003d${PatientSearchGivenName}\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eokay\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned format is XML.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned resource type is Bundle.\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"bundle.html\"\u003eBundle\u003c/a\u003e\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValidateProfileId\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned Bundle conforms to the base FHIR specification.\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003ebundle-profile\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003ePath\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValue\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned Bundle type equals \u0027searchset\u0027.\u003c/td\u003e\u003ctd\u003eequals\u003c/td\u003e\u003ctd\u003efhir:Bundle/fhir:type/@value\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003esearchset\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eExpression\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned Bundle total is greater than or equal to the number of returned entries.\u003c/td\u003e\u003ctd\u003eBundle.total.toInteger() \u0026gt;\u003d entry.count()\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003c/div\u003e"},"url":"http://hl7.org/fhir/TestScript/testscript-example-search","identifier":[{"system":"urn:ietf:rfc:3986","value":"urn:oid:2.16.840.1.113883.4.642.12.3"}],"version":"1.0","name":"TestScript Example Search","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with simple Patient search test. The read tests will utilize user defined dynamic variables that will hold the Patient search parameter values.","jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient Search Operation","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Search Operation","link":["http://hl7.org/fhir/http.html#search"],"capabilities":"http://hl7.org/fhir/CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}}],"profile":["http://hl7.org/fhir/StructureDefinition/Bundle"],"_profile":[{"id":"bundle-profile"}],"variable":[{"name":"PatientCreateLocation","headerField":"Location","sourceId":"PatientCreateResponse"},{"name":"PatientSearchFamilyName","description":"Enter patient search criteria for a known family name on the target system","hint":"[Family name]"},{"name":"PatientSearchGivenName","description":"Enter patient search criteria for a known given name on the target system","hint":"[Given name]"},{"name":"PatientSearchBundleTotal","description":"Evaluate the returned Patient searchset Bundle.total value","expression":"Bundle.total.toInteger()"}],"setup":{"action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"search"},"resource":"Patient","description":"Test simple search to verify server support.","accept":"xml","encodeRequestUrl":true,"params":"?family\u003dDONTEXPECTAMATCH\u0026given\u003dDONTEXPECTAMATCH"}},{"assert":{"description":"Confirm that the request url contains the family search parameter.","direction":"request","operator":"contains","requestURL":"family","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","responseCode":"200","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned resource type is Bundle.","resource":"Bundle","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle correctly defines the navigation links.","navigationLinks":true,"stopTestOnFail":false,"warningOnly":false}}]},"test":[{"id":"01-PatientCreateSearch","name":"Patient Create Search","description":"Create a Patient resource and capture the returned HTTP Header Location. Then search for (read) that Patient using the Location URL value and validate the response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"create"},"resource":"Patient","description":"Create a Patient resource and capture the returned HTTP Header Location.","accept":"xml","contentType":"xml","encodeRequestUrl":true,"responseId":"PatientCreateResponse","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","response":"created","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Location is present.","direction":"response","headerField":"Location","operator":"notEmpty","stopTestOnFail":false,"warningOnly":false}},{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"read"},"description":"Read the created Patient using the captured Location URL value.","accept":"xml","encodeRequestUrl":true,"url":"${PatientCreateLocation}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","stopTestOnFail":false,"warningOnly":false}}]},{"id":"02-PatientSearchDynamic","name":"Patient Search Dynamic","description":"Search for Patient resources using the user defined dynamic variables ${PatientSearchFamilyName} and ${PatientSearchGivenName} and validate response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"search"},"resource":"Patient","description":"Search for Patient resources on the destination test system.","accept":"xml","encodeRequestUrl":true,"params":"?family\u003d${PatientSearchFamilyName}\u0026given\u003d${PatientSearchGivenName}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned format is XML.","contentType":"xml","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned resource type is Bundle.","resource":"Bundle","stopTestOnFail":true,"warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle conforms to the base FHIR specification.","stopTestOnFail":false,"validateProfileId":"bundle-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle type equals \u0027searchset\u0027.","operator":"equals","path":"fhir:Bundle/fhir:type/@value","stopTestOnFail":false,"value":"searchset","warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle total is greater than or equal to the number of returned entries.","expression":"Bundle.total.toInteger() \u003e\u003d entry.count()","stopTestOnFail":false,"warningOnly":false}}]}]}

{"resourceType":"TestScript","id":"testscript-example-search","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: TestScript</b><a name=\"testscript-example-search\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource TestScript &quot;testscript-example-search&quot; </p></div><p><b>url</b>: <code>http://hl7.org/fhir/TestScript/testscript-example-search</code></p><p><b>identifier</b>: id: urn:oid:2.16.840.1.113883.4.642.12.3</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example Search</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 2017-01-18</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: Support: <a href=\"mailto:support@HL7.org\">support@HL7.org</a></p><p><b>description</b>: TestScript example resource with simple Patient search test. The read tests will utilize user defined dynamic variables that will hold the Patient search parameter values.</p><p><b>jurisdiction</b>: United States of America (the) <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/4.0.0/CodeSystem-ISO3166Part1.html\">ISO 3166-1 Codes for the representation of names of countries and their subdivisions — Part 1: Country code</a>#US)</span></p><p><b>purpose</b>: Patient Search Operation</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table class=\"grid\"><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a href=\"http://hl7.org/fhir/patient.html\">http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table class=\"grid\"><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Search Operation</td><td><a href=\"http://hl7.org/fhir/http.html#search\">http://hl7.org/fhir/http.html#search</a></td><td><a href=\"http://hl7.org/fhir/CapabilityStatement/example\">http://hl7.org/fhir/CapabilityStatement/example</a></td></tr></table></blockquote><h3>Fixtures</h3><table class=\"grid\"><tr><td>-</td><td><b>Autocreate</b></td><td><b>Autodelete</b></td><td><b>Resource</b></td></tr><tr><td>*</td><td>false</td><td>false</td><td><a href=\"patient-example.html\">Patient/example: Peter Chalmers</a> &quot;Peter CHALMERS&quot;</td></tr></table><p><b>profile</b>: <a href=\"bundle.html\">Bundle</a></p><blockquote><p><b>variable</b></p><p><b>name</b>: PatientCreateLocation</p><p><b>headerField</b>: Location</p><p><b>sourceId</b>: PatientCreateResponse</p></blockquote><blockquote><p><b>variable</b></p><p><b>name</b>: PatientSearchFamilyName</p><p><b>description</b>: Enter patient search criteria for a known family name on the target system</p><p><b>hint</b>: [Family name]</p></blockquote><blockquote><p><b>variable</b></p><p><b>name</b>: PatientSearchGivenName</p><p><b>description</b>: Enter patient search criteria for a known given name on the target system</p><p><b>hint</b>: [Given name]</p></blockquote><blockquote><p><b>variable</b></p><p><b>name</b>: PatientSearchBundleTotal</p><p><b>description</b>: Evaluate the returned Patient searchset Bundle.total value</p><p><b>expression</b>: Bundle.total.toInteger()</p></blockquote><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>search (Details: http://hl7.org/fhir/restful-interaction code search = 'search', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>Test simple search to verify server support.</td><td>xml</td><td>true</td><td>?family=DONTEXPECTAMATCH&amp;given=DONTEXPECTAMATCH</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>RequestURL</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the request url contains the family search parameter.</td><td>request</td><td>contains</td><td>family</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>response</td><td>200</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Resource</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned resource type is Bundle.</td><td><a href=\"bundle.html\">Bundle</a></td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>NavigationLinks</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Bundle correctly defines the navigation links.</td><td>true</td><td>false</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Patient Create Search</p><p><b>description</b>: Create a Patient resource and capture the returned HTTP Header Location. Then search for (read) that Patient using the Location URL value and validate the response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>ResponseId</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>create (Details: http://hl7.org/fhir/restful-interaction code create = 'create', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>Create a Patient resource and capture the returned HTTP Header Location.</td><td>xml</td><td>xml</td><td>true</td><td>PatientCreateResponse</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>created</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>HeaderField</b></td><td><b>Operator</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP Header Location is present.</td><td>response</td><td>Location</td><td>notEmpty</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>read (Details: http://hl7.org/fhir/restful-interaction code read = 'read', stated as 'null')</td><td>Read the created Patient using the captured Location URL value.</td><td>xml</td><td>true</td><td>${PatientCreateLocation}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Resource</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned resource type is Patient.</td><td><a href=\"patient.html\">Patient</a></td><td>false</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Patient Search Dynamic</p><p><b>description</b>: Search for Patient resources using the user defined dynamic variables ${PatientSearchFamilyName} and ${PatientSearchGivenName} and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>search (Details: http://hl7.org/fhir/restful-interaction code search = 'search', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>Search for Patient resources on the destination test system.</td><td>xml</td><td>true</td><td>?family=${PatientSearchFamilyName}&amp;given=${PatientSearchGivenName}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>ContentType</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned format is XML.</td><td>xml</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Resource</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned resource type is Bundle.</td><td><a href=\"bundle.html\">Bundle</a></td><td>true</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>StopTestOnFail</b></td><td><b>ValidateProfileId</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Bundle conforms to the base FHIR specification.</td><td>false</td><td>bundle-profile</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Operator</b></td><td><b>Path</b></td><td><b>StopTestOnFail</b></td><td><b>Value</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Bundle type equals 'searchset'.</td><td>equals</td><td>fhir:Bundle/fhir:type/@value</td><td>false</td><td>searchset</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Expression</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned Bundle total is greater than or equal to the number of returned entries.</td><td>Bundle.total.toInteger() &gt;= entry.count()</td><td>false</td><td>false</td></tr></table></blockquote></blockquote></div>"},"url":"http://hl7.org/fhir/TestScript/testscript-example-search","identifier":[{"system":"urn:ietf:rfc:3986","value":"urn:oid:2.16.840.1.113883.4.642.12.3"}],"version":"1.0","name":"TestScript Example Search","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with simple Patient search test. The read tests will utilize user defined dynamic variables that will hold the Patient search parameter values.","jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient Search Operation","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Search Operation","link":["http://hl7.org/fhir/http.html#search"],"capabilities":"http://hl7.org/fhir/CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}}],"profile":["http://hl7.org/fhir/StructureDefinition/Bundle"],"variable":[{"name":"PatientCreateLocation","headerField":"Location","sourceId":"PatientCreateResponse"},{"name":"PatientSearchFamilyName","description":"Enter patient search criteria for a known family name on the target system","hint":"[Family name]"},{"name":"PatientSearchGivenName","description":"Enter patient search criteria for a known given name on the target system","hint":"[Given name]"},{"name":"PatientSearchBundleTotal","description":"Evaluate the returned Patient searchset Bundle.total value","expression":"Bundle.total.toInteger()"}],"setup":{"action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"search"},"resource":"Patient","description":"Test simple search to verify server support.","accept":"xml","encodeRequestUrl":true,"params":"?family=DONTEXPECTAMATCH&given=DONTEXPECTAMATCH"}},{"assert":{"description":"Confirm that the request url contains the family search parameter.","direction":"request","operator":"contains","requestURL":"family","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","direction":"response","responseCode":"200","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned resource type is Bundle.","resource":"Bundle","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle correctly defines the navigation links.","navigationLinks":true,"stopTestOnFail":false,"warningOnly":false}}]},"test":[{"id":"01-PatientCreateSearch","name":"Patient Create Search","description":"Create a Patient resource and capture the returned HTTP Header Location. Then search for (read) that Patient using the Location URL value and validate the response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"create"},"resource":"Patient","description":"Create a Patient resource and capture the returned HTTP Header Location.","accept":"xml","contentType":"xml","encodeRequestUrl":true,"responseId":"PatientCreateResponse","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","response":"created","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Location is present.","direction":"response","headerField":"Location","operator":"notEmpty","stopTestOnFail":false,"warningOnly":false}},{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"read"},"description":"Read the created Patient using the captured Location URL value.","accept":"xml","encodeRequestUrl":true,"url":"${PatientCreateLocation}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned resource type is Patient.","resource":"Patient","stopTestOnFail":false,"warningOnly":false}}]},{"id":"02-PatientSearchDynamic","name":"Patient Search Dynamic","description":"Search for Patient resources using the user defined dynamic variables ${PatientSearchFamilyName} and ${PatientSearchGivenName} and validate response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"search"},"resource":"Patient","description":"Search for Patient resources on the destination test system.","accept":"xml","encodeRequestUrl":true,"params":"?family=${PatientSearchFamilyName}&given=${PatientSearchGivenName}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned format is XML.","contentType":"xml","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned resource type is Bundle.","resource":"Bundle","stopTestOnFail":true,"warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle conforms to the base FHIR specification.","stopTestOnFail":false,"validateProfileId":"bundle-profile","warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle type equals 'searchset'.","operator":"equals","path":"fhir:Bundle/fhir:type/@value","stopTestOnFail":false,"value":"searchset","warningOnly":false}},{"assert":{"description":"Confirm that the returned Bundle total is greater than or equal to the number of returned entries.","expression":"Bundle.total.toInteger() >= entry.count()","stopTestOnFail":false,"warningOnly":false}}]}]}
******************************************************************************************************./test/r5_examples/TestScript2.json
{"resourceType":"TestScript","id":"testscript-example-update","text":{"status":"generated","div":"\u003cdiv xmlns\u003d\"http://www.w3.org/1999/xhtml\"\u003e\u003cp\u003e\u003cb\u003eGenerated Narrative: TestScript\u003c/b\u003e\u003ca name\u003d\"testscript-example-update\"\u003e \u003c/a\u003e\u003c/p\u003e\u003cdiv style\u003d\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"\u003e\u003cp style\u003d\"margin-bottom: 0px\"\u003eResource TestScript \u0026quot;testscript-example-update\u0026quot; \u003c/p\u003e\u003c/div\u003e\u003cp\u003e\u003cb\u003eurl\u003c/b\u003e: \u003ccode\u003ehttp://hl7.org/fhir/TestScript/testscript-example-update\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eidentifier\u003c/b\u003e: id: urn:oid:2.16.840.1.113883.4.642.12.5\u003c/p\u003e\u003cp\u003e\u003cb\u003eversion\u003c/b\u003e: 1.0\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: TestScript Example Update\u003c/p\u003e\u003cp\u003e\u003cb\u003estatus\u003c/b\u003e: draft\u003c/p\u003e\u003cp\u003e\u003cb\u003eexperimental\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003edate\u003c/b\u003e: 2017-01-18\u003c/p\u003e\u003cp\u003e\u003cb\u003epublisher\u003c/b\u003e: HL7\u003c/p\u003e\u003cp\u003e\u003cb\u003econtact\u003c/b\u003e: Support: \u003ca href\u003d\"mailto:support@HL7.org\"\u003esupport@HL7.org\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.\u003c/p\u003e\u003cp\u003e\u003cb\u003ejurisdiction\u003c/b\u003e: United States of America (the) \u003cspan style\u003d\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"\u003e (\u003ca href\u003d\"http://terminology.hl7.org/4.0.0/CodeSystem-ISO3166Part1.html\"\u003eISO 3166-1 Codes for the representation of names of countries and their subdivisions — Part 1: Country code\u003c/a\u003e#US)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003epurpose\u003c/b\u003e: Patient (Conditional) Create, Update, Delete Operations\u003c/p\u003e\u003cp\u003e\u003cb\u003ecopyright\u003c/b\u003e: © HL7.org 2011+\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003emetadata\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eLinks\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/patient.html\"\u003ehttp://hl7.org/fhir/patient.html\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eDemographics and other administrative information about an individual or animal receiving care or other health-related services.\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003ch3\u003eCapabilities\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequired\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValidated\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLink\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eCapabilities\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003ePatient Update and Delete Operations\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/http.html#update\"\u003ehttp://hl7.org/fhir/http.html#update\u003c/a\u003e, \u003ca href\u003d\"http://hl7.org/fhir/http.html#delete\"\u003ehttp://hl7.org/fhir/http.html#delete\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/CapabilityStatement/example\"\u003ehttp://hl7.org/fhir/CapabilityStatement/example\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003efixture\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eautocreate\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eautodelete\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"patient-example.html\"\u003ePatient/example: Peter Chalmers\u003c/a\u003e \u0026quot;Peter CHALMERS\u0026quot;\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003efixture\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eautocreate\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eautodelete\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"patient-example-a.html\"\u003ePatient/pat1: Donald Duck\u003c/a\u003e \u0026quot;Donald DUCK\u0026quot;\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003e\u003cb\u003eprofile\u003c/b\u003e: \u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/p\u003e\u003ch3\u003eVariables\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eName\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003ePath\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003ecreateResourceId\u003c/td\u003e\u003ctd\u003ePatient/id\u003c/td\u003e\u003ctd\u003efixture-patient-create\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003esetup\u003c/b\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLabel\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003edelete (Details: http://hl7.org/fhir/restful-interaction code delete \u003d \u0027delete\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSetupDeletePatient\u003c/td\u003e\u003ctd\u003eExecute a delete operation to insure the patient does not exist on the server.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e/${createResourceId}\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponseCode\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK) or 204(No Content).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003ein\u003c/td\u003e\u003ctd\u003e200,204\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLabel\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eupdate (Details: http://hl7.org/fhir/restful-interaction code update \u003d \u0027update\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSetupCreatePatient\u003c/td\u003e\u003ctd\u003eCreate patient resource on test server using the contents of fixture-patient-create\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e/${createResourceId}\u003c/td\u003e\u003ctd\u003efixture-patient-create\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponseCode\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 201(Created).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003e201\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003etest\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: Update Patient\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Update a Patient and validate response.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eLabel\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eSourceId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eupdate (Details: http://hl7.org/fhir/restful-interaction code update \u003d \u0027update\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"patient.html\"\u003ePatient\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eSetupUpdatePatient\u003c/td\u003e\u003ctd\u003eUpdate patient resource on test server using the contents of fixture-patient-update\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e/${createResourceId}\u003c/td\u003e\u003ctd\u003efixture-patient-update\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eokay\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned format is XML.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eHeaderField\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eStopTestOnFail\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.\u003c/td\u003e\u003ctd\u003eLast-Modified\u003c/td\u003e\u003ctd\u003enotEmpty\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003c/div\u003e"},"url":"http://hl7.org/fhir/TestScript/testscript-example-update","identifier":[{"system":"urn:ietf:rfc:3986","value":"urn:oid:2.16.840.1.113883.4.642.12.5"}],"version":"1.0","name":"TestScript Example Update","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.","jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient (Conditional) Create, Update, Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update and Delete Operations","link":["http://hl7.org/fhir/http.html#update","http://hl7.org/fhir/http.html#delete"],"capabilities":"http://hl7.org/fhir/CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}},{"id":"fixture-patient-update","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/pat1","display":"Donald Duck"}}],"profile":["http://hl7.org/fhir/StructureDefinition/Patient"],"_profile":[{"id":"patient-profile"}],"variable":[{"name":"createResourceId","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"xml","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","stopTestOnFail":false,"warningOnly":false}},{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"xml","contentType":"xml","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","stopTestOnFail":false,"warningOnly":false}}]},"test":[{"id":"01-UpdatePatient","name":"Update Patient","description":"Update a Patient and validate response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"update"},"resource":"Patient","label":"SetupUpdatePatient","description":"Update patient resource on test server using the contents of fixture-patient-update","accept":"xml","contentType":"xml","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-update"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned format is XML.","contentType":"xml","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","headerField":"Last-Modified","operator":"notEmpty","stopTestOnFail":false,"warningOnly":true}}]}]}

{"resourceType":"TestScript","id":"testscript-example-update","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: TestScript</b><a name=\"testscript-example-update\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource TestScript &quot;testscript-example-update&quot; </p></div><p><b>url</b>: <code>http://hl7.org/fhir/TestScript/testscript-example-update</code></p><p><b>identifier</b>: id: urn:oid:2.16.840.1.113883.4.642.12.5</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example Update</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 2017-01-18</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: Support: <a href=\"mailto:support@HL7.org\">support@HL7.org</a></p><p><b>description</b>: TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.</p><p><b>jurisdiction</b>: United States of America (the) <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/4.0.0/CodeSystem-ISO3166Part1.html\">ISO 3166-1 Codes for the representation of names of countries and their subdivisions — Part 1: Country code</a>#US)</span></p><p><b>purpose</b>: Patient (Conditional) Create, Update, Delete Operations</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table class=\"grid\"><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a href=\"http://hl7.org/fhir/patient.html\">http://hl7.org/fhir/patient.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table class=\"grid\"><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Patient Update and Delete Operations</td><td><a href=\"http://hl7.org/fhir/http.html#update\">http://hl7.org/fhir/http.html#update</a>, <a href=\"http://hl7.org/fhir/http.html#delete\">http://hl7.org/fhir/http.html#delete</a></td><td><a href=\"http://hl7.org/fhir/CapabilityStatement/example\">http://hl7.org/fhir/CapabilityStatement/example</a></td></tr></table></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a href=\"patient-example.html\">Patient/example: Peter Chalmers</a> &quot;Peter CHALMERS&quot;</p></blockquote><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a href=\"patient-example-a.html\">Patient/pat1: Donald Duck</a> &quot;Donald DUCK&quot;</p></blockquote><p><b>profile</b>: <a href=\"patient.html\">Patient</a></p><h3>Variables</h3><table class=\"grid\"><tr><td>-</td><td><b>Name</b></td><td><b>Path</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>createResourceId</td><td>Patient/id</td><td>fixture-patient-create</td></tr></table><blockquote><p><b>setup</b></p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td></tr><tr><td>*</td><td>delete (Details: http://hl7.org/fhir/restful-interaction code delete = 'delete', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>SetupDeletePatient</td><td>Execute a delete operation to insure the patient does not exist on the server.</td><td>xml</td><td>true</td><td>/${createResourceId}</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>Operator</b></td><td><b>ResponseCode</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK) or 204(No Content).</td><td>response</td><td>in</td><td>200,204</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>update (Details: http://hl7.org/fhir/restful-interaction code update = 'update', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>SetupCreatePatient</td><td>Create patient resource on test server using the contents of fixture-patient-create</td><td>xml</td><td>xml</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-create</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Direction</b></td><td><b>ResponseCode</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Created).</td><td>response</td><td>201</td><td>false</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Update Patient</p><p><b>description</b>: Update a Patient and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class=\"grid\"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>ContentType</b></td><td><b>EncodeRequestUrl</b></td><td><b>Params</b></td><td><b>SourceId</b></td></tr><tr><td>*</td><td>update (Details: http://hl7.org/fhir/restful-interaction code update = 'update', stated as 'null')</td><td><a href=\"patient.html\">Patient</a></td><td>SetupUpdatePatient</td><td>Update patient resource on test server using the contents of fixture-patient-update</td><td>xml</td><td>xml</td><td>true</td><td>/${createResourceId}</td><td>fixture-patient-update</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>ContentType</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned format is XML.</td><td>xml</td><td>false</td><td>false</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class=\"grid\"><tr><td>-</td><td><b>Description</b></td><td><b>HeaderField</b></td><td><b>Operator</b></td><td><b>StopTestOnFail</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.</td><td>Last-Modified</td><td>notEmpty</td><td>false</td><td>true</td></tr></table></blockquote></blockquote></div>"},"url":"http://hl7.org/fhir/TestScript/testscript-example-update","identifier":[{"system":"urn:ietf:rfc:3986","value":"urn:oid:2.16.840.1.113883.4.642.12.5"}],"version":"1.0","name":"TestScript Example Update","status":"draft","experimental":true,"date":"2017-01-18","publisher":"HL7","contact":[{"name":"Support","telecom":[{"system":"email","value":"support@HL7.org","use":"work"}]}],"description":"TestScript example resource with setup to delete if present and create a new instance of a Patient; and single test definition to update that Patient with various asserts.","jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America (the)"}]}],"purpose":"Patient (Conditional) Create, Update, Delete Operations","copyright":"© HL7.org 2011+","metadata":{"link":[{"url":"http://hl7.org/fhir/patient.html","description":"Demographics and other administrative information about an individual or animal receiving care or other health-related services."}],"capability":[{"required":true,"validated":false,"description":"Patient Update and Delete Operations","link":["http://hl7.org/fhir/http.html#update","http://hl7.org/fhir/http.html#delete"],"capabilities":"http://hl7.org/fhir/CapabilityStatement/example"}]},"fixture":[{"id":"fixture-patient-create","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/example","display":"Peter Chalmers"}},{"id":"fixture-patient-update","autocreate":false,"autodelete":false,"resource":{"reference":"Patient/pat1","display":"Donald Duck"}}],"profile":["http://hl7.org/fhir/StructureDefinition/Patient"],"variable":[{"name":"createResourceId","path":"Patient/id","sourceId":"fixture-patient-create"}],"setup":{"action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"delete"},"resource":"Patient","label":"SetupDeletePatient","description":"Execute a delete operation to insure the patient does not exist on the server.","accept":"xml","encodeRequestUrl":true,"params":"/${createResourceId}"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK) or 204(No Content).","direction":"response","operator":"in","responseCode":"200,204","stopTestOnFail":false,"warningOnly":false}},{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"update"},"resource":"Patient","label":"SetupCreatePatient","description":"Create patient resource on test server using the contents of fixture-patient-create","accept":"xml","contentType":"xml","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-create"}},{"assert":{"description":"Confirm that the returned HTTP status is 201(Created).","direction":"response","responseCode":"201","stopTestOnFail":false,"warningOnly":false}}]},"test":[{"id":"01-UpdatePatient","name":"Update Patient","description":"Update a Patient and validate response.","action":[{"operation":{"type":{"system":"http://hl7.org/fhir/restful-interaction","code":"update"},"resource":"Patient","label":"SetupUpdatePatient","description":"Update patient resource on test server using the contents of fixture-patient-update","accept":"xml","contentType":"xml","encodeRequestUrl":true,"params":"/${createResourceId}","sourceId":"fixture-patient-update"}},{"assert":{"description":"Confirm that the returned HTTP status is 200(OK).","response":"okay","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned format is XML.","contentType":"xml","stopTestOnFail":false,"warningOnly":false}},{"assert":{"description":"Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.","headerField":"Last-Modified","operator":"notEmpty","stopTestOnFail":false,"warningOnly":true}}]}]}
******************************************************************************************************./test/r5_examples/Patient17.json
{"resourceType":"Patient","id":"patient-example-sex-and-gender","text":{"status":"generated","div":"\u003cdiv xmlns\u003d\"http://www.w3.org/1999/xhtml\"\u003e\u003cp style\u003d\"border: 1px #661aff solid; background-color: #e6e6ff; padding: 10px;\"\u003e\u003cb\u003ePatricia Roth \u003c/b\u003e male, DoB: 1974-12-25 ( Medical record number: 12345 (use: USUAL))\u003c/p\u003e\u003chr/\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"Record is active\"\u003eActive:\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"Known status of Patient\"\u003eDeceased:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"Alternate names (see the one above)\"\u003eAlt Names:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003ePatrick Roth (OFFICIAL)\u003c/li\u003e\u003cli\u003ePat (NICKNAME)\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"Patient Links\"\u003eLinks:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003eManaging Organization: \u003ca href\u003d\"organization-example-gastro.html\"\u003eOrganization/1\u003c/a\u003e \u0026quot;Gastroenterology\u0026quot;\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"The pronouns to use when referring to an individual in verbal or written communication.\"\u003eIndividual Pronouns:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003evalue: \u003cspan title\u003d\"Codes: {http://loinc.org LA29519-8}\"\u003eshe/her/her/hers/herself\u003c/span\u003e\u003c/li\u003e\u003cli\u003eperiod: 2001-05-06 --\u0026gt; (ongoing)\u003c/li\u003e\u003cli\u003ecomment: Patient transitioned from male to female in 2001.\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"The recorded sex and gender is to be used to differentiate existing sex or gender data. This element is used for existing \u0027sex\u0027 or \u0027gender\u0027 elements in a document or record when the intent and meaning is unclear. For example, the individual\u0027s birth certificate information, passport information, and national identity document information may all be present. This is necessary because an individual\u0027s documents may be updated at different rates or for different reasons. Sex assigned at birth (SAAB), while very common and considered essential in some jurisdictions, is considered a recorded sex and gender entry.\"\u003ePerson Recorded Sex Or Gender:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003evalue: \u003cspan title\u003d\"Codes: {http://hl7.org/fhir/administrative-gender male}\"\u003eMale\u003c/span\u003e\u003c/li\u003e\u003cli\u003einternationalEquivalent: \u003cspan title\u003d\"Codes: {http://terminology.hl7.org/CodeSystem/icaosex M}\"\u003eMale\u003c/span\u003e\u003c/li\u003e\u003cli\u003etype: \u003cspan title\u003d\"Codes: {http://loinc.org 76689-9}\"\u003eSex Assigned At Birth\u003c/span\u003e\u003c/li\u003e\u003cli\u003eeffectivePeriod: 1974-12-25 --\u0026gt; (ongoing)\u003c/li\u003e\u003cli\u003eacquisitionDate: 2005-12-06\u003c/li\u003e\u003cli\u003esourceDocument: \u003ca href\u003d\"broken-link.html\"\u003eDocumentReference/1\u003c/a\u003e\u003c/li\u003e\u003cli\u003esourceField: SEX\u003c/li\u003e\u003cli\u003ejurisdiction: \u003cspan title\u003d\"Codes: {https://www.usps.com/ OH}\"\u003eOhio\u003c/span\u003e\u003c/li\u003e\u003cli\u003ecomment: Patient transitioned from male to female in 2001, but their birth certificate still indicates male.\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"The recorded sex and gender is to be used to differentiate existing sex or gender data. This element is used for existing \u0027sex\u0027 or \u0027gender\u0027 elements in a document or record when the intent and meaning is unclear. For example, the individual\u0027s birth certificate information, passport information, and national identity document information may all be present. This is necessary because an individual\u0027s documents may be updated at different rates or for different reasons. Sex assigned at birth (SAAB), while very common and considered essential in some jurisdictions, is considered a recorded sex and gender entry.\"\u003ePerson Recorded Sex Or Gender:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003evalue: \u003cspan title\u003d\"Codes: {http://hl7.org/fhir/administrative-gender male}\"\u003eMale\u003c/span\u003e\u003c/li\u003e\u003cli\u003einternationalEquivalent: \u003cspan title\u003d\"Codes: {http://terminology.hl7.org/CodeSystem/icaosex M}\"\u003eMale\u003c/span\u003e\u003c/li\u003e\u003cli\u003etype: \u003cspan title\u003d\"Codes: {http://local-code-system.org/recorded-sex-or-gender-type insurance-card}\"\u003eInsurance Card\u003c/span\u003e\u003c/li\u003e\u003cli\u003eeffectivePeriod: 2021-05-25 --\u0026gt; (ongoing)\u003c/li\u003e\u003cli\u003eacquisitionDate: 2021-06-06\u003c/li\u003e\u003cli\u003esourceDocument: \u003ca href\u003d\"broken-link.html\"\u003eDocumentReference/2\u003c/a\u003e\u003c/li\u003e\u003cli\u003esourceField: SEX\u003c/li\u003e\u003cli\u003ejurisdiction: \u003cspan title\u003d\"Codes: {http://local-code-system.org/recorded-sex-or-gender-jurisdiction ICCA-P}\"\u003eIndigo Crucifix Cobalt Aegis Payer\u003c/span\u003e\u003c/li\u003e\u003cli\u003ecomment: Patient transitioned from male to female in 2001, but their insurance card still indicates male.\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"The recorded sex and gender is to be used to differentiate existing sex or gender data. This element is used for existing \u0027sex\u0027 or \u0027gender\u0027 elements in a document or record when the intent and meaning is unclear. For example, the individual\u0027s birth certificate information, passport information, and national identity document information may all be present. This is necessary because an individual\u0027s documents may be updated at different rates or for different reasons. Sex assigned at birth (SAAB), while very common and considered essential in some jurisdictions, is considered a recorded sex and gender entry.\"\u003ePerson Recorded Sex Or Gender:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003evalue: \u003cspan title\u003d\"Codes: {http://ohio.example.gov/drivers-license-sex M}\"\u003eMale\u003c/span\u003e\u003c/li\u003e\u003cli\u003einternationalEquivalent: \u003cspan title\u003d\"Codes: {http://terminology.hl7.org/CodeSystem/icaosex M}\"\u003eMale\u003c/span\u003e\u003c/li\u003e\u003cli\u003etype: \u003cspan title\u003d\"Codes: {http://jurisdiction-specific.example.com/document-type-code-system drivers-license}\"\u003eDriver\u0027s License\u003c/span\u003e\u003c/li\u003e\u003cli\u003eeffectivePeriod: 1974-12-25 --\u0026gt; (ongoing)\u003c/li\u003e\u003cli\u003eacquisitionDate: 2005-12-06\u003c/li\u003e\u003cli\u003esourceDocument: \u003ca href\u003d\"broken-link.html\"\u003eDocumentReference/1\u003c/a\u003e\u003c/li\u003e\u003cli\u003ejurisdiction: \u003cspan title\u003d\"Codes: {https://www.usps.com/ OH}\"\u003eOhio\u003c/span\u003e\u003c/li\u003e\u003cli\u003ecomment: Patient transitioned from male to female in 2001, but their driver\u0027s license still indicates male.\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\"An individual\u0027s personal sense of being a man, woman, boy, girl, nonbinary, or something else. This represents an individual’s identity, ascertained by asking them what that identity is.\"\u003eIndividual Gender Identity:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003evalue: \u003cspan title\u003d\"Codes: {http://snomed.info/sct 446141000124107}\"\u003eIdentifies as female gender (finding)\u003c/span\u003e\u003c/li\u003e\u003cli\u003eperiod: 2001-05-06 --\u0026gt; (ongoing)\u003c/li\u003e\u003cli\u003ecomment: Patient transitioned from male to female in 2001.\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd style\u003d\"background-color: #f3f5da\" title\u003d\" **Sex for Clinical Use (SFCU) Overview**\n \n Sex for Clinical Use is a categorization of sex derived from observable information such as an organ inventory, recent hormone lab tests, genetic testing, menstrual status, obstetric history, etc. This property is intended for use in clinical decision making and indicates that treatment or diagnostic tests should consider best practices associated with the relevant reference population.\n \n While clinical decision-making processes could account for the specific physiological or anatomical attributes of the patient, there are several practical considerations, such as patient privacy and limited capabilities of existing systems which create the need for a categorization that is easy to exchange.  The Sex for Clinical Use categorization is intended to bridge the gap between the hypothetical ideal and the practical needs of operational systems.\n \n **Sex for Clinical Use (SFCU) Contexts**\n \n Sex for Clinical Use is a contextual concept. For example, a patient may generally be categorized as male, but for a specific lab test, the resulting lab should use the reference ranges associated with a female reference population.  In this case, systems may provide a patient-context [sexForClinicalUse](extension-patient-sexforclinicaluse.html) that acts as a \u0027default\u0027 for most care and annotate the lab order with a context-specific sexForClinicalUse.  Systems may determine what enclosing contexts are useful, but Patient, Encounter and EpisodeOfCare are three enclosing contexts that may often apply.\n \n The [sexForClinicalUse](extension-patient-sexforclinicaluse.html) extension can be used to communicate a clinical sex category on the on relevant clinical resources (e.g., DiagnosticReport, ServiceRequest) or enclosing contexts (e.g., Patient, Encounter, EpisodeOfCare).\n \n **Sex for Clinical Use (SFCU) Categorization**\n \n For ease of interoperability, a patient’s sex for clinical use is constrained to four possible categories.  Any patient for which special considerations apply should be categorized as \u0027Specified\u0027.  The \u0027Specified\u0027 category is often represented as \u0027Other\u0027 in existing systems.\n \n **Female** - Available data indicates that diagnostics, analytics, and treatments should consider best practices associated with female reference populations.\n \n **Male** - Available data indicates that diagnostics, analytics, and treatments should consider best practices associated with male reference populations.\n \n **Specified** - Available data indicates that diagnostics, analytics, and treatment best practices may be undefined or not aligned with existing sex-derived reference populations.  Individuals or systems providing care should either use default behavior that is safe for both male and female populations, individually review treatment options with the patient, or carefully inspect relevant observations before proceeding with treatment.\n \n **Unknown** - The sex for clinical use cannot be determined because there are no relevant evidence or documentation, or the evidence or documentation are not sufficient to determine a value. **Sex for Clinical Use (SFCU) History and Practices**\n \n Prior to the definition of Sex for Clinical Use as a concept, systems may have used administrative gender as an approximation of patient-level sex for clinical use.  This practice required pre-coordination among exchange parters to explicitly overload the administrative sex concept for use as a clinical sex concept.  In cases where there was no pre-coordination, some systems may have incorrectly inferred information about a patient\u0027s clinical sex from administrative  gender.\n \n In the context of ordering workflows, systems may use Ask at Order Entry (AOE) questions to collect concepts similar to sex for clinical use.\n \"\u003ePatient Sex For Clinical Use:\u003c/td\u003e\u003ctd colspan\u003d\"3\"\u003e\u003cul\u003e\u003cli\u003evalue: \u003cspan title\u003d\"Codes: {http://terminology.hl7.org/CodeSystem/sex-for-clinical-use specified}\"\u003eSpecified sex for clinical use\u003c/span\u003e\u003c/li\u003e\u003cli\u003eperiod: 2002-07-13 --\u0026gt; (ongoing)\u003c/li\u003e\u003cli\u003ecomment: Patient transitioned from male to female in 2001.\u003c/li\u003e\u003cli\u003esupportingInfo: \u003ca href\u003d\"broken-link.html\"\u003eObservation/1\u003c/a\u003e\u003c/li\u003e\u003cli\u003esupportingInfo: \u003ca href\u003d\"broken-link.html\"\u003eMedicationUsage/2\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/div\u003e"},"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/individual-genderIdentity","extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://snomed.info/sct","code":"446141000124107","display":"Identifies as female gender (finding)"}]}},{"url":"period","valuePeriod":{"start":"2001-05-06"}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001."}]},{"url":"http://hl7.org/fhir/StructureDefinition/individual-pronouns","extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://loinc.org","code":"LA29519-8","display":"she/her/her/hers/herself"}]}},{"url":"period","valuePeriod":{"start":"2001-05-06"}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001."}]},{"url":"http://hl7.org/fhir/StructureDefinition/individual-recordedSexOrGender","extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://hl7.org/fhir/administrative-gender","code":"male","display":"Male"}]}},{"url":"internationalEquivalent","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/icaosex","code":"M","display":"Male"}]}},{"url":"type","valueCodeableConcept":{"coding":[{"system":"http://loinc.org","code":"76689-9","display":"Sex Assigned At Birth"}]}},{"url":"effectivePeriod","valuePeriod":{"start":"1974-12-25"}},{"url":"acquisitionDate","valueDateTime":"2005-12-06"},{"url":"sourceDocument","valueCodeableReference":{"reference":{"reference":"DocumentReference/1"}}},{"url":"sourceField","valueString":"SEX"},{"url":"jurisdiction","valueCodeableConcept":{"coding":[{"system":"https://www.usps.com/","code":"OH","display":"Ohio"}]}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001, but their birth certificate still indicates male."}]},{"url":"http://hl7.org/fhir/StructureDefinition/individual-recordedSexOrGender","extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://hl7.org/fhir/administrative-gender","code":"male","display":"Male"}]}},{"url":"internationalEquivalent","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/icaosex","code":"M","display":"Male"}]}},{"url":"type","valueCodeableConcept":{"coding":[{"system":"http://local-code-system.org/recorded-sex-or-gender-type","code":"insurance-card","display":"Insurance Card"}]}},{"url":"effectivePeriod","valuePeriod":{"start":"2021-05-25"}},{"url":"acquisitionDate","valueDateTime":"2021-06-06"},{"url":"sourceDocument","valueCodeableReference":{"reference":{"reference":"DocumentReference/2"}}},{"url":"sourceField","valueString":"SEX"},{"url":"jurisdiction","valueCodeableConcept":{"coding":[{"system":"http://local-code-system.org/recorded-sex-or-gender-jurisdiction","code":"ICCA-P","display":"Indigo Crucifix Cobalt Aegis Payer"}]}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001, but their insurance card still indicates male."}]},{"url":"http://hl7.org/fhir/StructureDefinition/individual-recordedSexOrGender","extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://ohio.example.gov/drivers-license-sex","code":"M","display":"Male"}]}},{"url":"internationalEquivalent","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/icaosex","code":"M","display":"Male"}]}},{"url":"type","valueCodeableConcept":{"coding":[{"system":"http://jurisdiction-specific.example.com/document-type-code-system","code":"drivers-license","display":"Driver\u0027s License"}]}},{"url":"effectivePeriod","valuePeriod":{"start":"1974-12-25"}},{"url":"acquisitionDate","valueDateTime":"2005-12-06"},{"url":"sourceDocument","valueCodeableReference":{"reference":{"reference":"DocumentReference/1"}}},{"url":"jurisdiction","valueCodeableConcept":{"coding":[{"system":"https://www.usps.com/","code":"OH","display":"Ohio"}]}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001, but their driver\u0027s license still indicates male."}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-sexForClinicalUse","extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/sex-for-clinical-use","code":"specified","display":"Specified sex for clinical use"}]}},{"url":"period","valuePeriod":{"start":"2002-07-13"}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001."},{"url":"supportingInfo","valueCodeableReference":{"reference":{"reference":"Observation/1"}}},{"url":"supportingInfo","valueCodeableReference":{"reference":{"reference":"MedicationUsage/2"}}}]}],"identifier":[{"use":"usual","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0203","code":"MR"}]},"system":"urn:oid:1.2.36.146.595.217.0.1","value":"12345"}],"active":true,"name":[{"use":"official","family":"Roth","given":["Patrick"]},{"use":"usual","family":"Roth","given":["Patricia"]},{"use":"nickname","given":["Pat"]}],"gender":"male","birthDate":"1974-12-25","deceasedBoolean":false,"managingOrganization":{"reference":"Organization/1"}}

{"resourceType":"Patient","id":"patient-example-sex-and-gender","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><p style=\"border: 1px #661aff solid; background-color: #e6e6ff; padding: 10px;\"><b>Patricia Roth </b> male, DoB: 1974-12-25 ( Medical record number: 12345 (use: USUAL))</p><hr/><table class=\"grid\"><tr><td style=\"background-color: #f3f5da\" title=\"Record is active\">Active:</td><td>true</td><td style=\"background-color: #f3f5da\" title=\"Known status of Patient\">Deceased:</td><td colspan=\"3\">false</td></tr><tr><td style=\"background-color: #f3f5da\" title=\"Alternate names (see the one above)\">Alt Names:</td><td colspan=\"3\"><ul><li>Patrick Roth (OFFICIAL)</li><li>Pat (NICKNAME)</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\"Patient Links\">Links:</td><td colspan=\"3\"><ul><li>Managing Organization: <a href=\"organization-example-gastro.html\">Organization/1</a> &quot;Gastroenterology&quot;</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\"The pronouns to use when referring to an individual in verbal or written communication.\">Individual Pronouns:</td><td colspan=\"3\"><ul><li>value: <span title=\"Codes: {http://loinc.org LA29519-8}\">she/her/her/hers/herself</span></li><li>period: 2001-05-06 --&gt; (ongoing)</li><li>comment: Patient transitioned from male to female in 2001.</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\"The recorded sex and gender is to be used to differentiate existing sex or gender data. This element is used for existing 'sex' or 'gender' elements in a document or record when the intent and meaning is unclear. For example, the individual's birth certificate information, passport information, and national identity document information may all be present. This is necessary because an individual's documents may be updated at different rates or for different reasons. Sex assigned at birth (SAAB), while very common and considered essential in some jurisdictions, is considered a recorded sex and gender entry.\">Person Recorded Sex Or Gender:</td><td colspan=\"3\"><ul><li>value: <span title=\"Codes: {http://hl7.org/fhir/administrative-gender male}\">Male</span></li><li>internationalEquivalent: <span title=\"Codes: {http://terminology.hl7.org/CodeSystem/icaosex M}\">Male</span></li><li>type: <span title=\"Codes: {http://loinc.org 76689-9}\">Sex Assigned At Birth</span></li><li>effectivePeriod: 1974-12-25 --&gt; (ongoing)</li><li>acquisitionDate: 2005-12-06</li><li>sourceDocument: <a href=\"broken-link.html\">DocumentReference/1</a></li><li>sourceField: SEX</li><li>jurisdiction: <span title=\"Codes: {https://www.usps.com/ OH}\">Ohio</span></li><li>comment: Patient transitioned from male to female in 2001, but their birth certificate still indicates male.</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\"The recorded sex and gender is to be used to differentiate existing sex or gender data. This element is used for existing 'sex' or 'gender' elements in a document or record when the intent and meaning is unclear. For example, the individual's birth certificate information, passport information, and national identity document information may all be present. This is necessary because an individual's documents may be updated at different rates or for different reasons. Sex assigned at birth (SAAB), while very common and considered essential in some jurisdictions, is considered a recorded sex and gender entry.\">Person Recorded Sex Or Gender:</td><td colspan=\"3\"><ul><li>value: <span title=\"Codes: {http://hl7.org/fhir/administrative-gender male}\">Male</span></li><li>internationalEquivalent: <span title=\"Codes: {http://terminology.hl7.org/CodeSystem/icaosex M}\">Male</span></li><li>type: <span title=\"Codes: {http://local-code-system.org/recorded-sex-or-gender-type insurance-card}\">Insurance Card</span></li><li>effectivePeriod: 2021-05-25 --&gt; (ongoing)</li><li>acquisitionDate: 2021-06-06</li><li>sourceDocument: <a href=\"broken-link.html\">DocumentReference/2</a></li><li>sourceField: SEX</li><li>jurisdiction: <span title=\"Codes: {http://local-code-system.org/recorded-sex-or-gender-jurisdiction ICCA-P}\">Indigo Crucifix Cobalt Aegis Payer</span></li><li>comment: Patient transitioned from male to female in 2001, but their insurance card still indicates male.</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\"The recorded sex and gender is to be used to differentiate existing sex or gender data. This element is used for existing 'sex' or 'gender' elements in a document or record when the intent and meaning is unclear. For example, the individual's birth certificate information, passport information, and national identity document information may all be present. This is necessary because an individual's documents may be updated at different rates or for different reasons. Sex assigned at birth (SAAB), while very common and considered essential in some jurisdictions, is considered a recorded sex and gender entry.\">Person Recorded Sex Or Gender:</td><td colspan=\"3\"><ul><li>value: <span title=\"Codes: {http://ohio.example.gov/drivers-license-sex M}\">Male</span></li><li>internationalEquivalent: <span title=\"Codes: {http://terminology.hl7.org/CodeSystem/icaosex M}\">Male</span></li><li>type: <span title=\"Codes: {http://jurisdiction-specific.example.com/document-type-code-system drivers-license}\">Driver's License</span></li><li>effectivePeriod: 1974-12-25 --&gt; (ongoing)</li><li>acquisitionDate: 2005-12-06</li><li>sourceDocument: <a href=\"broken-link.html\">DocumentReference/1</a></li><li>jurisdiction: <span title=\"Codes: {https://www.usps.com/ OH}\">Ohio</span></li><li>comment: Patient transitioned from male to female in 2001, but their driver's license still indicates male.</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\"An individual's personal sense of being a man, woman, boy, girl, nonbinary, or something else. This represents an individual’s identity, ascertained by asking them what that identity is.\">Individual Gender Identity:</td><td colspan=\"3\"><ul><li>value: <span title=\"Codes: {http://snomed.info/sct 446141000124107}\">Identifies as female gender (finding)</span></li><li>period: 2001-05-06 --&gt; (ongoing)</li><li>comment: Patient transitioned from male to female in 2001.</li></ul></td></tr><tr><td style=\"background-color: #f3f5da\" title=\" **Sex for Clinical Use (SFCU) Overview**\n \n Sex for Clinical Use is a categorization of sex derived from observable information such as an organ inventory, recent hormone lab tests, genetic testing, menstrual status, obstetric history, etc. This property is intended for use in clinical decision making and indicates that treatment or diagnostic tests should consider best practices associated with the relevant reference population.\n \n While clinical decision-making processes could account for the specific physiological or anatomical attributes of the patient, there are several practical considerations, such as patient privacy and limited capabilities of existing systems which create the need for a categorization that is easy to exchange.  The Sex for Clinical Use categorization is intended to bridge the gap between the hypothetical ideal and the practical needs of operational systems.\n \n **Sex for Clinical Use (SFCU) Contexts**\n \n Sex for Clinical Use is a contextual concept. For example, a patient may generally be categorized as male, but for a specific lab test, the resulting lab should use the reference ranges associated with a female reference population.  In this case, systems may provide a patient-context [sexForClinicalUse](extension-patient-sexforclinicaluse.html) that acts as a 'default' for most care and annotate the lab order with a context-specific sexForClinicalUse.  Systems may determine what enclosing contexts are useful, but Patient, Encounter and EpisodeOfCare are three enclosing contexts that may often apply.\n \n The [sexForClinicalUse](extension-patient-sexforclinicaluse.html) extension can be used to communicate a clinical sex category on the on relevant clinical resources (e.g., DiagnosticReport, ServiceRequest) or enclosing contexts (e.g., Patient, Encounter, EpisodeOfCare).\n \n **Sex for Clinical Use (SFCU) Categorization**\n \n For ease of interoperability, a patient’s sex for clinical use is constrained to four possible categories.  Any patient for which special considerations apply should be categorized as 'Specified'.  The 'Specified' category is often represented as 'Other' in existing systems.\n \n **Female** - Available data indicates that diagnostics, analytics, and treatments should consider best practices associated with female reference populations.\n \n **Male** - Available data indicates that diagnostics, analytics, and treatments should consider best practices associated with male reference populations.\n \n **Specified** - Available data indicates that diagnostics, analytics, and treatment best practices may be undefined or not aligned with existing sex-derived reference populations.  Individuals or systems providing care should either use default behavior that is safe for both male and female populations, individually review treatment options with the patient, or carefully inspect relevant observations before proceeding with treatment.\n \n **Unknown** - The sex for clinical use cannot be determined because there are no relevant evidence or documentation, or the evidence or documentation are not sufficient to determine a value. **Sex for Clinical Use (SFCU) History and Practices**\n \n Prior to the definition of Sex for Clinical Use as a concept, systems may have used administrative gender as an approximation of patient-level sex for clinical use.  This practice required pre-coordination among exchange parters to explicitly overload the administrative sex concept for use as a clinical sex concept.  In cases where there was no pre-coordination, some systems may have incorrectly inferred information about a patient's clinical sex from administrative  gender.\n \n In the context of ordering workflows, systems may use Ask at Order Entry (AOE) questions to collect concepts similar to sex for clinical use.\n \">Patient Sex For Clinical Use:</td><td colspan=\"3\"><ul><li>value: <span title=\"Codes: {http://terminology.hl7.org/CodeSystem/sex-for-clinical-use specified}\">Specified sex for clinical use</span></li><li>period: 2002-07-13 --&gt; (ongoing)</li><li>comment: Patient transitioned from male to female in 2001.</li><li>supportingInfo: <a href=\"broken-link.html\">Observation/1</a></li><li>supportingInfo: <a href=\"broken-link.html\">MedicationUsage/2</a></li></ul></td></tr></table></div>"},"extension":[{"extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://snomed.info/sct","code":"446141000124107","display":"Identifies as female gender (finding)"}]}},{"url":"period","valuePeriod":{"start":"2001-05-06"}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001."}],"url":"http://hl7.org/fhir/StructureDefinition/individual-genderIdentity"},{"extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://loinc.org","code":"LA29519-8","display":"she/her/her/hers/herself"}]}},{"url":"period","valuePeriod":{"start":"2001-05-06"}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001."}],"url":"http://hl7.org/fhir/StructureDefinition/individual-pronouns"},{"extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://hl7.org/fhir/administrative-gender","code":"male","display":"Male"}]}},{"url":"internationalEquivalent","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/icaosex","code":"M","display":"Male"}]}},{"url":"type","valueCodeableConcept":{"coding":[{"system":"http://loinc.org","code":"76689-9","display":"Sex Assigned At Birth"}]}},{"url":"effectivePeriod","valuePeriod":{"start":"1974-12-25"}},{"url":"acquisitionDate","valueDateTime":"2005-12-06"},{"url":"sourceDocument"},{"url":"sourceField","valueString":"SEX"},{"url":"jurisdiction","valueCodeableConcept":{"coding":[{"system":"https://www.usps.com/","code":"OH","display":"Ohio"}]}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001, but their birth certificate still indicates male."}],"url":"http://hl7.org/fhir/StructureDefinition/individual-recordedSexOrGender"},{"extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://hl7.org/fhir/administrative-gender","code":"male","display":"Male"}]}},{"url":"internationalEquivalent","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/icaosex","code":"M","display":"Male"}]}},{"url":"type","valueCodeableConcept":{"coding":[{"system":"http://local-code-system.org/recorded-sex-or-gender-type","code":"insurance-card","display":"Insurance Card"}]}},{"url":"effectivePeriod","valuePeriod":{"start":"2021-05-25"}},{"url":"acquisitionDate","valueDateTime":"2021-06-06"},{"url":"sourceDocument"},{"url":"sourceField","valueString":"SEX"},{"url":"jurisdiction","valueCodeableConcept":{"coding":[{"system":"http://local-code-system.org/recorded-sex-or-gender-jurisdiction","code":"ICCA-P","display":"Indigo Crucifix Cobalt Aegis Payer"}]}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001, but their insurance card still indicates male."}],"url":"http://hl7.org/fhir/StructureDefinition/individual-recordedSexOrGender"},{"extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://ohio.example.gov/drivers-license-sex","code":"M","display":"Male"}]}},{"url":"internationalEquivalent","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/icaosex","code":"M","display":"Male"}]}},{"url":"type","valueCodeableConcept":{"coding":[{"system":"http://jurisdiction-specific.example.com/document-type-code-system","code":"drivers-license","display":"Driver's License"}]}},{"url":"effectivePeriod","valuePeriod":{"start":"1974-12-25"}},{"url":"acquisitionDate","valueDateTime":"2005-12-06"},{"url":"sourceDocument"},{"url":"jurisdiction","valueCodeableConcept":{"coding":[{"system":"https://www.usps.com/","code":"OH","display":"Ohio"}]}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001, but their driver's license still indicates male."}],"url":"http://hl7.org/fhir/StructureDefinition/individual-recordedSexOrGender"},{"extension":[{"url":"value","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/sex-for-clinical-use","code":"specified","display":"Specified sex for clinical use"}]}},{"url":"period","valuePeriod":{"start":"2002-07-13"}},{"url":"comment","valueString":"Patient transitioned from male to female in 2001."},{"url":"supportingInfo"},{"url":"supportingInfo"}],"url":"http://hl7.org/fhir/StructureDefinition/patient-sexForClinicalUse"}],"identifier":[{"use":"usual","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0203","code":"MR"}]},"system":"urn:oid:1.2.36.146.595.217.0.1","value":"12345"}],"active":true,"name":[{"use":"official","family":"Roth","given":["Patrick"]},{"use":"usual","family":"Roth","given":["Patricia"]},{"use":"nickname","given":["Pat"]}],"gender":"male","birthDate":"1974-12-25","deceasedBoolean":false,"managingOrganization":{"reference":"Organization/1"}}
***************************************************